{"version":3,"sources":["closest.js","main.js"],"names":["e","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","t","this","o","document","ownerDocument","querySelectorAll","n","Boolean","closest","nodeType","parentNode","window","Element","prototype","addEventListener","console","log","modalButton","overlay","querySelector","closeButton","forEach","item","event","preventDefault","classList","add","remove","body","keyCode"],"mappings":"CAEA,SAAAA,GACA,mBAAAA,EAAAC,UAAAD,EAAAC,QAAAD,EAAAE,mBAAAF,EAAAG,oBAAAH,EAAAI,uBAAA,SAAAJ,GACA,IAAA,IAAAK,EAAAC,KAAAC,GAAAF,EAAAG,UAAAH,EAAAI,eAAAC,iBAAAV,GAAAW,EAAA,EAAAJ,EAAAI,IAAAJ,EAAAI,KAAAN,KAAAM,EACA,OAAAC,QAAAL,EAAAI,MACA,mBAAAX,EAAAa,UAAAb,EAAAa,QAAA,SAAAb,GACA,IAAA,IAAAK,EAAAC,KAAAD,GAAA,IAAAA,EAAAS,UAAA,CACA,GAAAT,EAAAJ,QAAAD,GAAA,OAAAK,EACAA,EAAAA,EAAAU,WAEA,OAAA,OATA,CAWAC,OAAAC,QAAAC,WCZAV,SAAAW,iBAAA,mBAAA,WAEAC,QAAAC,IAAA,uBAGA,IAAAC,EAAAd,SAAAE,iBAAA,kBACAa,EAAAf,SAAAgB,cAAA,kBACAC,EAAAjB,SAAAE,iBAAA,mBAGAY,EAAAI,QAAA,SAAAC,GACAA,EAAAR,iBAAA,QAAA,SAAAS,GAIAA,EAAAC,iBACArB,SAAAgB,cAAA,UAGAM,UAAAC,IAAA,UACAR,EAAAO,UAAAC,IAAA,cAGAN,EAAAC,QAAA,SAAAC,GACAA,EAAAR,iBAAA,QAAA,SAAAS,GACAtB,KAAAO,QAAA,UACAiB,UAAAE,OAAA,UACAT,EAAAO,UAAAE,OAAA,cAKAxB,SAAAyB,KAAAd,iBAAA,QAAA,SAAAS,GAEA,IADAA,EAAAM,UAEA1B,SAAAgB,cAAA,iBAAAM,UAAAE,OAAA,UACAxB,SAAAgB,cAAA,mBAAAM,UAAAE,OAAA,aAEA,GAIAT,EAAAJ,iBAAA,QAAA,WACAX,SAAAgB,cAAA,iBAAAM,UAAAE,OAAA,UACA1B,KAAAwB,UAAAE,OAAA","file":"script.js","sourcesContent":["// Библиотека создает функцию closest. Используя её мы можем искать элемент, который находится выше по дереву и класс которого совпадает с тем который мы ищем.\r\n\r\n! function(e) {\r\n  \"function\" != typeof e.matches && (e.matches = e.msMatchesSelector || e.mozMatchesSelector || e.webkitMatchesSelector || function(e) {\r\n    for (var t = this, o = (t.document || t.ownerDocument).querySelectorAll(e), n = 0; o[n] && o[n] !== t;) ++n;\r\n    return Boolean(o[n])\r\n  }), \"function\" != typeof e.closest && (e.closest = function(e) {\r\n    for (var t = this; t && 1 === t.nodeType;) {\r\n      if (t.matches(e)) return t;\r\n      t = t.parentNode\r\n    }\r\n    return null\r\n  })\r\n}(window.Element.prototype);",";\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n\r\n  console.log(\"Загрузился документ\");\r\n  /* Записываем в переменные массив элементов-кнопок и подложку.\r\n        Подложке зададим id, чтобы не влиять на другие элементы с классом overlay*/\r\n  var modalButton = document.querySelectorAll('.js-modal-open'),\r\n    overlay = document.querySelector('#overlay-modal'),\r\n    closeButton = document.querySelectorAll('.js-modal-close');\r\n\r\n  // Перебираем кнопки и вешаем обработчик\r\n  modalButton.forEach(function(item) {\r\n    item.addEventListener('click', function(event) {\r\n      /* Предотвращаем стандартное действие элемента. Так как кнопку разные\r\n            люди могут сделать по-разному. Кто-то сделает ссылку, кто-то кнопку.\r\n            Нужно подстраховаться. */\r\n      event.preventDefault();\r\n      var modalElem = document.querySelector('.modal');\r\n      /* Добавим классы\r\n   подложке и окну чтобы показать их. */\r\n      modalElem.classList.add('active');\r\n      overlay.classList.add('active');\r\n    });\r\n  });\r\n  closeButton.forEach(function(item) {\r\n    item.addEventListener('click', function(event) {\r\n      var parentModal = this.closest('.modal');\r\n      parentModal.classList.remove('active');\r\n      overlay.classList.remove('active');\r\n    });\r\n  });\r\n\r\n  // Закрытие модального окна по кнопек esc\r\n  document.body.addEventListener('keyup', function(event) {\r\n    var key = event.keyCode;\r\n    if (key == 27) {\r\n      document.querySelector('.modal.active').classList.remove('active');\r\n      document.querySelector('.overlay.active').classList.remove('active');\r\n    };\r\n  }, false);\r\n\r\n\r\n  // Закрытие модального окна по клику вне модального окна\r\n  overlay.addEventListener('click', function() {\r\n    document.querySelector('.modal.active').classList.remove('active');\r\n    this.classList.remove('active');\r\n  });\r\n\r\n});"]}